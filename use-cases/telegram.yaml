instances:
  - name: telegramClient
    props:
      api-id: 1
      api-hash: 1
      metadata-path: /app/data/telegram
      # 因库的原因暂时不起作用
      proxy: http://192.168.1.219:17890
components:
  source:
    - name: telegram
      type: telegram
      props:
        client: telegramClient
        chats:
          # 如果是私聊不填负数，频道填负数
          - chat-id: "-1956424521"
  downloader:
    - name: telegram
      type: telegram
      props:
        client: telegramClient
        download-path: /downloads
  variable-provider:
    - name: telegram
      type: telegram
  item-file-resolver:
    - name: telegram
      type: telegram

processors:
  - name: telegram
    triggers:
      - webhook:telegram
      - fixed:1day
    source: telegram
    downloader: telegram
    item-file-resolver: telegram
    variable-providers:
      - "telegram"
    mover: general
    save-path: /mnt/demo
    options:
      save-path-pattern: "{chatName}-{chatId}"
      filename-pattern: "{messageId}_{sourceItemTitle}"
      file-expression-inclusions: [ ]
      file-expression-exclusions: [ ]
      save-processing-content: false
      file-taggers:
        - "simple"
        - "telegram"
      tag-filename-pattern:
        photo: "{messageId}"
      variable-replacers: [ ]